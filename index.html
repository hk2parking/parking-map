<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>太白区 東郡山 2丁目 月極駐車場｜郡山3丁目 周辺 郡山4丁目 周辺 八本松 周辺</title>
  <meta name="description" content="仙台市太白区東郡山2丁目の月極駐車場（22区画）。料金や空き状況を地図で確認できます。">
  <meta name="keywords" content="郡山周辺,八本松周辺,東郡山周辺,郡山,東郡山,八本松,東郡山2丁目, 太白区, 月極駐車場, 空き駐車場, 仙台市, 駐車場マップ">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <style>
    #map { height: 600px; width: 100%; }
    body { font-family: sans-serif; padding: 10px; }
  </style>
</head>
<body>
  <h1>仙台市 太白区 東郡山2丁目 月極駐車場</h1>

  <p>
    仙台市太白区東郡山 2丁目の月極駐車場です。防犯カメラ設置済みで安心。全22区画 空き区画を確認できます。賃料6,600円 申込はGoogleフォームから可能です。
  </p>

  <div id="map"></div>

  <script>
    // 地図を初期化
    var map = L.map('map').setView([38.221612, 140.900544], 14);

    // OpenStreetMap タイルレイヤーを追加
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // CSVファイルを読み込む
    fetch('parkings.csv')
      .then(response => {
        if (!response.ok) throw new Error('CSVファイルが読み込めません');
        return response.text();
      })
      .then(csv => {
        const rows = csv.trim().split('\n').slice(1); // ヘッダー除外
        rows.forEach(row => {
          const [name, lat, lng, url] = row.split(',');
          L.marker([parseFloat(lat), parseFloat(lng)])
            .addTo(map)
            .bindPopup(`<b>${name}</b><br><a href="${url}" target="_blank">詳細を見る</a>`);
        });
      })
      .catch(err => console.error('エラー:', err));
  </script>
</body>
</html>
