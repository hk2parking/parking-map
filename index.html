<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>東郡山2丁目駐車場 |仙台市太白区 東郡山2丁目 月極駐車場 郡山・八本松・鹿又交差点周辺の駐車場情報</title>

  <meta name="description" content="仙台市太白区東郡山2丁目の月極駐車場。防犯カメラ付き駐車場を地図で確認。郡山3丁目・郡山4丁目・八本松・鹿又交差点周辺の月極駐車場情報も掲載。料金・空き状況をリアルタイムでチェック。">
  <meta name="keywords" content="仙台市太白区, 東郡山, 月極駐車場, 太白区駐車場, 郡山3丁目, 郡山4丁目, 八本松, 鹿又交差点, 防犯カメラ付き駐車場">
  <meta name="robots" content="index, follow">

  <link rel="canonical" href="https://hk2parking.github.io/parking-map/">

  <!-- ✅ OGP設定（SNS・LINE・Facebook共有対応） -->
  <meta property="og:title" content="仙台市太白区 東郡山2丁目 月極駐車場マップ">
  <meta property="og:description" content="仙台市太白区東郡山2丁目の月極駐車場。料金や空き状況を地図で簡単チェック。防犯カメラ付きで安心。">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://hk2parking.github.io/parking-map/">
  <meta property="og:image" content="https://hk2parking.github.io/parking-map/thumbnail.jpg">
  <meta property="og:locale" content="ja_JP">

  <!-- ✅ Twitterカード（X共有対策） -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="仙台市太白区 東郡山2丁目 月極駐車場">
  <meta name="twitter:description" content="仙台市太白区東郡山2丁目の月極駐車場情報。空き状況や料金を地図で確認できます。">
  <meta name="twitter:image" content="https://hk2parking.github.io/parking-map/thumbnail.jpg">

  <!-- ✅ 構造化データ（schema.org ParkingFacility） -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ParkingFacility",
    "name": "仙台市太白区 東郡山2丁目 月極駐車場",
    "description": "仙台市太白区東郡山2丁目の月極駐車場。空き状況や料金、防犯カメラ付き駐車場を地図で確認可能。",
    "image": "https://hk2parking.github.io/parking-map/thumbnail.jpg",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "JP",
      "addressRegion": "宮城県",
      "addressLocality": "仙台市太白区東郡山2丁目"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 38.221612,
      "longitude": 140.900544
    },
    "url": "https://hk2parking.github.io/parking-map/"
  }
  </script>

  <style>
    body { font-family: "Noto Sans JP", sans-serif; margin: 12px; line-height: 1.7; color: #222; }
    h1, h2 { color: #333; }
    h1 { margin-bottom: 8px; font-size: 1.6em; }
    h2 { margin-top: 24px; font-size: 1.2em; }
    #map { width: 100%; height: 640px; border: 1px solid #ccc; border-radius: 8px; }
    p, li { font-size: 0.95em; }
    ul { padding-left: 20px; }
    a { color: #007bff; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>

<body>
  <h1>仙台市太白区 東郡山2丁目 月極駐車場</h1>
  <p>
    宮城県仙台市太白区東郡山2丁目の月極駐車場です。防犯カメラ完備で、安心してご利用いただけます。<br>
    地図上で空き状況を確認できます。
  </p>

  <div id="map" loading="lazy"></div>

  <h2>近隣エリアの月極駐車場</h2>
  <ul>
    <li><a href="#">郡山3丁目 月極駐車場</a></li>
    <li><a href="#">郡山4丁目 月極駐車場</a></li>
    <li><a href="#">八本松 月極駐車場</a></li>
    <li><a href="#">鹿又交差点 周辺駐車場</a></li>
  </ul>

  <h2>駐車場の特徴</h2>
  <ul>
    <li>防犯カメラ設置済みで安心</li>
    <li>区画明確で停めやすい</li>
    <li>24時間出入り可能</li>
    <li>月極・短期契約対応</li>
  </ul>

  <script>
  async function initMap() {
    const { Map } = await google.maps.importLibrary("maps");
    const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary("marker");

    const map = new Map(document.getElementById("map"), {
      center: { lat: 38.221612, lng: 140.900544 },
      zoom: 15,
      mapId: "DEMO_MAP_ID"
    });

    const infoWindow = new google.maps.InfoWindow();
    const bounds = new google.maps.LatLngBounds();

    try {
      const res = await fetch('parkings.csv');
      const text = await res.text();
      const lines = text.trim().split(/\r?\n/);

      for (let i = 1; i < lines.length; i++) {
        const cols = lines[i].split(',');
        const name = cols[0]?.trim() || ('NoName-' + i);
        const lat = parseFloat(cols[1]);
        const lng = parseFloat(cols[2]);
        const url = cols[3]?.trim() || '#';
        const status = cols[4]?.trim().toLowerCase();

        if (isNaN(lat) || isNaN(lng)) continue;

        const color = status === 'taken' ? '#d33' : (status === 'free' ? '#28a745' : '#007bff');
        const pin = new PinElement({ background: color, borderColor: "#fff", glyphColor: "#fff" });

        const marker = new AdvancedMarkerElement({
          map,
          position: { lat, lng },
          title: name,
          content: pin.element
        });

        marker.addListener("click", () => {
          infoWindow.setContent(`<strong>${name}</strong><br>` +
            (url !== '#' ? `<a href="${url}" target="_blank" rel="noopener">詳細を見る</a>` : ''));
          infoWindow.open(map, marker);
        });

        bounds.extend({ lat, lng });
      }

      if (!bounds.isEmpty()) {
        const ne = bounds.getNorthEast();
        const sw = bounds.getSouthWest();
        if (ne.equals(sw)) {
          const delta = 0.0003;
          bounds.extend({ lat: ne.lat() + delta, lng: ne.lng() + delta });
        }
        map.fitBounds(bounds);
      }
    } catch (err) {
      console.error("CSVの読み込みエラー:", err);
    }
  }

  window.initMap = initMap;
  </script>

  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCvMlZ7Q2VqRug6A5k8dCNax7ODFDiBRJc&callback=initMap"></script>
</body>
</html>
